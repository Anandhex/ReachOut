(this.webpackJsonpreachout=this.webpackJsonpreachout||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(21),o=a.n(r),c=a(12),i=(a(55),a(2)),l=(a(56),a(19)),u=a(4),p=a(5),d=a(7),m=a(8),h=a(20),g=(a(57),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("nav",{className:"NavBar-nav-container "},n.a.createElement("div",{className:"NavBar-nav-left"},n.a.createElement("li",null,"Logo"),n.a.createElement(c.b,{to:"/",exact:!0,activeClassName:"NavBar-nav-link-active"},"Home"),n.a.createElement(c.b,{to:"/about",exact:!0,activeClassName:"NavBar-nav-link-active"},"About")),n.a.createElement("div",{className:"NavBar-nav-right"},this.props.user?n.a.createElement("div",{className:"NavBar-nav-right-user-signed"},n.a.createElement("div",{onClick:function(){return e.props.enableRecommender(!e.props.recommender)},className:"recommender-btn ".concat(this.props.recommender?"recommender-btn-enable":"")},this.props.recommender?"Enabled":"Recommend"),n.a.createElement(c.b,{to:"/me",exact:!0,activeClassName:"NavBar-nav-profile-active"},n.a.createElement("img",{className:"NavBar-user-profile-img",src:"".concat(this.props.user.profile_img&&"default"!==this.props.user.profile_img?this.props.user.profile_img:"/images/default_profile/default.png"),alt:"profile_img"})),n.a.createElement(c.b,{to:"/logout",exact:!0,activeClassName:"NavBar-nav-link-active"},"Logout")):n.a.createElement(n.a.Fragment,null,n.a.createElement(c.b,{to:"/login",exact:!0,activeClassName:"NavBar-nav-link-active"},"Log In"),n.a.createElement(c.b,{to:"/signup",exact:!0,activeClassName:"NavBar-nav-link-active"},"Sign Up"))))}}]),a}(s.Component)),f=Object(h.g)(g),v=a(17),E=a(3),b=a.n(E),k=a(9),N=(a(64),"http://localhost:8000/api/v1/"),C=a(6),y=a.n(C),w=a(81),S=new(function(){function e(){Object(u.a)(this,e)}return Object(p.a)(e,[{key:"setJWt",value:function(e){localStorage.setItem("jwt",e)}},{key:"logout",value:function(){localStorage.clear()}},{key:"getId",value:function(){var e=localStorage.getItem("jwt")&&w(localStorage.getItem("jwt"));return e&&e.id}},{key:"getAuthHeader",value:function(){return{Authorization:"Bearer "+localStorage.getItem("jwt")}}},{key:"getJWT",value:function(){return localStorage.getItem("jwt")}},{key:"setBoarded",value:function(e){localStorage.setItem("isBoarded",e)}},{key:"getBoarded",value:function(){return localStorage.getItem("isBoarded")}}]),e}());a(84);function x(){return n.a.createElement("div",{className:"loader-container"},n.a.createElement("div",{className:"loader"}))}var O=["Cyberbullying","Drugs and alcohol abuse","Gender discrimination","Government policies","Illiteracy","Obesity and greed","Poverty","Racism","Religion","Single parenthood","Social life and the economy","Suicide and social media","Unemployment","War"],j=a(22),P=a.n(j),U=(a(86),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleLike=function(){var t=Object(k.a)(b.a.mark((function t(a){var s,n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.user||e.props.user.liked.includes(e.props.post._id)){t.next=19;break}return t.prev=1,a.target.src=a.target.src.replace(/\/[^\/]*$/,"/like.svg"),s=N+"users/".concat(e.props.user._id,"/posts/").concat(e.props.post._id),n=S.getAuthHeader(),r=e.props.post.likes+1,t.next=8,y.a.patch(s,r,{headers:n});case 8:o=t.sent,console.log(o.data.data),e.props.setPost(o.data.data.post),e.props.setUser(o.data.data.user),i.a.info("Liked!"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0),t.t0.response?i.a.error(t.t0.response.data.message):i.a.error("Something went wrong!");case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleCategory=function(t){t.stopPropagation(),e.props.history.push("/specficPostCategory/".concat(e.props.post.category))},e.handleUserClicked=function(t){t.stopPropagation(),e.props.user&&e.props.user._id===e.props.post.userId?e.props.history.push("/me"):e.props.history.push("/user/".concat(e.props.post.userId))},e.handleComment=function(t){t.stopPropagation(),e.props.history.push("/posts/".concat(e.props.post._id))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Post-container"},n.a.createElement("div",{className:"Post-title"},this.props.post.postTitle),n.a.createElement("div",{className:"Post-label"},n.a.createElement("div",{className:"Post-cat",onClick:function(t){return e.handleCategory(t)}},n.a.createElement("span",{className:"hash-tag"},"#"),this.props.post.category),n.a.createElement("div",{className:"Post-user",onClick:function(t){return e.handleUserClicked(t)}},this.props.post.username,n.a.createElement("span",{style:{display:"block"}},P()(this.props.post.createDate).format("Do MMM")))),n.a.createElement("div",{className:"Post-body"},"".concat(this.props.post.postContent&&this.props.post.postContent.slice(0,150)," .... "),n.a.createElement("br",null),n.a.createElement("span",{className:"read-more-tag",onClick:function(t){return e.handleComment(t)}},"Read more")),n.a.createElement("div",{className:"Post-footer"},n.a.createElement("div",{className:"Post-stats"},n.a.createElement("img",{onClick:function(t){return!e.props.isOwner&&e.handleLike(t)},className:"post-stat-image",src:this.props.isLiked?"/images/icons/like.svg":"/images/icons/like-not.png",alt:"like"}),this.props.isOwner&&this.props.post.likes),n.a.createElement("div",{className:"Post-stats",onClick:function(t){return e.handleComment(t)}},n.a.createElement("img",{className:"post-stat-image",src:"/images/icons/comment.svg",alt:"comment"}),this.props.isOwner&&this.props.post.comments.length)))}}]),a}(s.Component)),I=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).addFriend=function(){var e=Object(k.a)(b.a.mark((function e(t,a){var n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.stopPropagation(),n=N+"users/friends/".concat(a),r=S.getAuthHeader(),s.setState({isLoading:!0}),e.next=7,y.a.patch(n,{userId:a},{headers:r});case 7:if(!(o=e.sent)){e.next=15;break}return s.props.setUser(o.data.data.user),e.next=12,y.a.get(N+"users/getFriendRecommendation",{headers:r});case 12:o=e.sent,s.setState({friends:o.data.data}),i.a.info("Added friend Successfully");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 21:return e.prev=21,s.setState({isLoading:!1}),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])})));return function(t,a){return e.apply(this,arguments)}}(),s.removeFromList=function(e,t){e.stopPropagation(),s.setState({friends:s.state.friends.filter((function(e){return e._id!==t}))})},s.showUserProfile=function(e){s.props.history.push("/user/".concat(e))},s.handleChange=function(e){s.setState(Object(v.a)({},e.target.name,e.target.value))},s.renderAddFriendList=function(){return s.props.user&&s.state.friends.map((function(e){return n.a.createElement("div",{key:e._id,className:"friend-single",onClick:function(){return s.showUserProfile(e._id)}},n.a.createElement("div",{className:"friend-image"},n.a.createElement("img",{src:(e.profile_img,"/images/default_profile/default.png"),alt:"profile"})),n.a.createElement("div",{className:"friend-username"},e.username),n.a.createElement("div",{className:"friend-footer"},n.a.createElement("button",{className:"btn-add",onClick:function(t){return s.addFriend(t,e._id)}},"Add Friend"),n.a.createElement("button",{className:"btn-cancel",onClick:function(t){return s.removeFromList(t,e._id)}},"Cancel")))}))},s.showPostTextFull=function(e){e.stopPropagation(),s.setState({showMore:!0})},s.closePost=function(e){e.stopPropagation(),s.setState({showMore:!1})},s.createPost=Object(k.a)(b.a.mark((function e(){var t,a,n,r,o,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.state,a=t.postContent,n=t.postTitle,r=t.category,o=s.props.user&&s.props.user.username,!(a&&n&&r)){e.next=21;break}return e.prev=3,s.setState({isLoading:!0}),c=S.getId(),l=N+"users/".concat(c,"/posts"),u=S.getAuthHeader(),e.next=10,y.a.post(l,{username:o,postContent:a,postTitle:n,category:r},{headers:u});case 10:i.a.info("Post created"),s.setState({postContent:"",postTitle:""}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 18:return e.prev=18,s.setState({isLoading:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,14,18,21]])}))),s.renderCreatePost=function(){return s.props.user?n.a.createElement("div",{className:"create-post",onClick:function(e){return s.showPostTextFull(e)}},n.a.createElement("div",{className:"create-post-label ".concat(s.state.showMore?"create-post-active":"")},"Create Post"),n.a.createElement("div",{className:"text-area-container"},n.a.createElement("textarea",{className:"post-content-container",name:"postContent",placeholder:"The post content goes over here",value:s.state.postContent,onChange:function(e){return s.handleChange(e)}})),s.state.showMore&&n.a.createElement("div",{className:"post-body"},n.a.createElement("input",{className:"post-title",type:"text",name:"postTitle",value:s.state.postTitle,onChange:function(e){return s.handleChange(e)},placeholder:"The post title"}),n.a.createElement("select",{value:s.state.category,name:"category",className:"post-category",onChange:function(e){return s.handleChange(e)}},O.map((function(e){return n.a.createElement("option",{key:e,className:"option-category",value:e},e)}))),n.a.createElement("button",{className:"post-create",onClick:s.createPost},"Create Post"))):""},s.setPost=function(e){s.setState({posts:s.state.posts.map((function(t){return t._id===e._id?e:t}))})},s.renderPost=function(){return s.state.posts.map((function(e){return n.a.createElement(U,Object.assign({isLiked:s.props.user&&s.props.user.liked.includes(e._id),key:e._id,setUser:s.props.setUser,user:s.props.user,post:e,setPost:s.setPost},s.props))}))},s.state={friends:[],postContent:"",postTitle:"",category:O[0],isLoading:!1,showMore:!1,posts:[]},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.setState({isLoading:!0}),a=N+"users",s=S.getAuthHeader(),!this.props.user){e.next=16;break}return e.next=7,y.a.get(a+"/getFriendRecommendation",{headers:s});case 7:return t=e.sent,this.setState({friends:t.data.data}),a+="/".concat(S.getId(),"/posts/getRecommendPost").concat(this.props.isRecommended?"?recommend=true":""),e.next=12,y.a.get(a,{headers:s});case 12:t=e.sent,this.setState({posts:t.data.data.posts}),e.next=21;break;case 16:return a=N+"users/posts",e.next=19,y.a.get(a);case 19:t=e.sent,this.setState({posts:t.data.data.posts});case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 27:return e.prev=27,this.setState({isLoading:!1}),e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[0,23,27,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"Home-container page",onClick:function(t){return e.closePost(t)}},n.a.createElement("div",{className:"friend-container"},this.renderAddFriendList()),this.renderCreatePost(),n.a.createElement("div",{className:"Posts-container"},this.renderPost())))}}]),a}(s.Component),L=Object(h.g)(I),_=(a(87),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"Footer-container "},"We help you to reach out to the corners of the world and spreading the word of the need")}}]),a}(s.Component));a(88);var T=function(){return n.a.createElement("div",{className:"page",style:{justifyContent:"center"}},n.a.createElement("div",{className:"Error-code"},"404!"),n.a.createElement("div",{className:"Error-message"},"Page not found!"))},F=(a(89),a(90),{error:"#f87575",info:"#00a2ff"}),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleClick=function(){s.setState({render:!1})},s.state={render:!0},s}return Object(p.a)(a,[{key:"render",value:function(){return this.state.render?n.a.createElement("div",{onClick:this.handleClick,style:{border:"5px solid ".concat(F[this.props.messageType])},className:"ServerResponse-container"},this.props.message,n.a.createElement("span",null,"X")):null}}]),a}(s.Component),A=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(v.a)({},e.target.name,e.target.value))},s.handleClick=Object(k.a)(b.a.mark((function e(){var t,a,n,r,o,c,l,u,p,d,m,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=s.state,a=t.username,n=t.email,r=t.password,o=t.passwordConfirm,c=t.age,l=t.gender,u=N,!(s.props.isSignIn&&a&&n&&r&&o&&c&&l)){e.next=27;break}return u=N+"users/signup",e.prev=5,s.setState({isLoading:!0}),e.next=9,y.a.post(u,{username:a,email:n,password:r,passwordConfirm:o,age:c,gender:l});case 9:p=e.sent,d=p.data,S.setJWt(d.token),s.props.setUser(d.data.user),console.log(s.props),s.props.history.push("/selectInterst"),i.a.success("Successfully signed in!"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 22:return e.prev=22,s.setState({isLoading:!1}),e.finish(22);case 25:e.next=52;break;case 27:if(!(!1===s.props.isSignIn&&a&&n&&r)){e.next=51;break}return u=N+"users/login",e.prev=29,s.setState({isLoading:!0}),e.next=33,y.a.post(u,{username:a,email:n,password:r});case 33:m=e.sent,h=m.data,S.setJWt(h.token),s.props.setUser(h.data.user),S.setBoarded(h.data.user.isBoarded),h.data.user.isBoarded?s.props.history.push("/"):s.props.history.push("/selectInterst"),i.a.success("Successfully logged in!"),e.next=46;break;case 42:e.prev=42,e.t1=e.catch(29),console.log(e.t1.response),e.t1.response?i.a.error(e.t1.response.data.message):i.a.error("Something went wrong!");case 46:return e.prev=46,s.setState({isLoading:!1}),e.finish(46);case 49:e.next=52;break;case 51:i.a.error("Enter all the fields");case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(0),console.log(e.t2);case 57:case"end":return e.stop()}}),e,null,[[0,54],[5,18,22,25],[29,42,46,49]])}))),s.state={username:"",email:"",password:"",passwordConfirm:"",age:"",gender:"Male",error:null,isLoading:!1,isBoarded:!1},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return S.getBoarded()&&S.getJWT()?n.a.createElement(h.a,{to:"/"}):S.getJWT()?n.a.createElement(h.a,{to:"/selectInterst"}):n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(M,this.state.error):"",this.state.isLoading?n.a.createElement(x,null):"",this.props.isSignIn?n.a.createElement("form",{className:" page SignUp-container"},n.a.createElement("div",{className:"SignUp-form"},n.a.createElement("div",{className:"SignUp-form-header"},"Create an Account!"),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"username"},"Username "),n.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"john@doe",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"email"},"Email "),n.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"john@gmail.com",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"password"},"Password "),n.a.createElement("input",{type:"password",name:"password",id:"password",min:"8",placeholder:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"passwordConfirm"},"Confirm Password "),n.a.createElement("input",{type:"password",name:"passwordConfirm",id:"passwordConfirm",min:"8",placeholder:"confirm password",value:this.state.passwordConfirm,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"passwordConfirm"},"Age "),n.a.createElement("input",{type:"number",name:"age",id:"age",min:"18",max:"99",placeholder:"Enter your age",value:this.state.age,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("select",{value:this.state.gender,name:"gender",id:"gender",className:"post-category",onChange:function(t){return e.handleChange(t)}},n.a.createElement("option",{className:"option-category",value:"Male"},"Male"),n.a.createElement("option",{className:"option-category",value:"Female"},"Female"))),n.a.createElement("div",{className:"SignUp-form-button"},n.a.createElement("input",{type:"button",value:"Sign Up",onClick:this.handleClick})))):n.a.createElement("form",{className:"SignUp-container"},n.a.createElement("div",{className:"SignUp-form"},n.a.createElement("div",{className:"SignUp-form-header"},"Log into Account!"),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"username"},"Username "),n.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"john@doe",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"email"},"Email "),n.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"john@gmail.com",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-input-field"},n.a.createElement("label",{htmlFor:"password"},"Password "),n.a.createElement("input",{type:"password",name:"password",id:"password",min:"8",placeholder:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"SignUp-form-button"},n.a.createElement("input",{type:"button",value:"log in",onClick:this.handleClick})))))}}]),a}(s.Component),B=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).logout=function(){S.logout(),e.props.logout()},e}return Object(p.a)(a,[{key:"render",value:function(){return this.logout(),n.a.createElement(h.a,{to:"/"})}}]),a}(s.Component),D=(a(91),a(49)),H=a.n(D),R=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).interestClicked=function(e){if(s.state.selected[e])s.setState({selected:s.state.selected.map((function(t,a){return a===e?"":t}))});else{var t=s.state.selected;t[e]=O[e],s.setState({selected:t})}},s.nextPage=function(){s.state.selected.filter((function(e){return e})).length?s.props.history.push({pathname:"/profileUpdate",state:{interests:s.state.selected}}):s.setState({error:{message:"Please select atleast 3 or more categories",messageType:"info"}},(function(){setTimeout((function(){return s.setState({error:""})}),3e3)}))},s.state={selected:["","","","","","","","","","","","","",""],error:""},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a,s,n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=S.getAuthHeader(),a=N+"users/".concat(S.getId(),"/recommendedInterest"),e.next=5,H.a.get(a,{headers:t});case 5:s=e.sent,n=s.data,r=n.data.data["Final Interests"],o=this.state.selected,r.forEach((function(e){var t=O.indexOf(e);t>0&&(o[t]=O[t])})),this.setState({selected:o}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.error?n.a.createElement(M,this.state.error):"",n.a.createElement("div",{onClick:this.nextPage,className:"Interest-arrow-next-page"},n.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/arrow.png",alt:"arrow"})),n.a.createElement("div",{className:"Interest-select-item-heading-container"},n.a.createElement("div",{className:"Interest-select-item-heading"},"Select your responses"),n.a.createElement("div",{className:"Interest-select-item-sub-heading"},"You should atleast select 3")),n.a.createElement("div",{className:"Interest-select-item-container"},O.map((function(t,a){return n.a.createElement("div",{key:t,className:"Interest-select-item ".concat(e.state.selected[a]?"Interest-select-item-selected":""),onClick:function(){return e.interestClicked(a)}},n.a.createElement("img",{className:"Interest-select-item-img",src:"/images/interest/".concat(t,".png"),alt:t}),n.a.createElement("p",null,t))}))))}}]),a}(s.Component),J=(a(108),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleImageUpload=function(){var e=Object(k.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("profileImage",t.target.files[0],t.target.files[0].name),s.setState({isLoading:!0}),N+"users/profileUpload",n=S.getAuthHeader(),n=Object(l.a)({},n,{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}),e.prev=6,e.next=9,y.a.post("http://localhost:8000/api/v1/users/profileUpload",a,{headers:n});case 9:r=e.sent,s.props.setUser(r.data.data.user),s.setState({profileImg:r.data.data.user.profile_img}),i.a.info("User profile photo updated"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 19:return e.prev=19,s.setState({isLoading:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,15,19,22]])})));return function(t){return e.apply(this,arguments)}}(),s.handleChange=function(e){"profileImg"===e.target.name||s.setState(Object(v.a)({},e.target.name,e.target.value))},s.previousPage=function(){s.props.history.goBack()},s.finishBoarding=Object(k.a)(b.a.mark((function e(){var t,a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.state.interests.length){e.next=19;break}return t=N+"users/".concat(S.getId()),a={areaOfInterest:s.state.interests,profile_img:s.state.profileImg,isBoarded:!0},n=S.getAuthHeader(),e.prev=4,e.next=7,y.a.patch(t,a,{headers:n});case 7:r=e.sent,s.props.setUser(r.data.data.user),S.setBoarded(!0),s.props.history.push("/"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 17:e.next=20;break;case 19:s.setState({error:{message:"Please fill all the details",messageType:"error"}},(function(){setTimeout((function(){return s.setState({error:null})}),3e3)}));case 20:case"end":return e.stop()}}),e,null,[[4,13]])}))),s.state={profileImg:"default",interests:null,error:null,isLoading:!1},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({interests:this.props.history.location.state&&this.props.history.location.state.interests})}},{key:"render",value:function(){var e=this;return S.getJWT()&&S.getBoarded()?n.a.createElement(h.a,{to:"/"}):n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(M,this.state.error):"",this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("form",{className:" page SignUp-container"},n.a.createElement("div",{onClick:this.finishBoarding,className:"Interest-arrow-next-page"},n.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/arrow.png",alt:"arrow"})),n.a.createElement("div",{onClick:this.previousPage,className:"Interest-arrow-previous-page"},n.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/arrow.png",alt:"arrow"})),n.a.createElement("div",{className:"SignUp-form ProfileUpdate"},n.a.createElement("div",{className:"SignUp-form-header"},"Update your Profile!"),n.a.createElement("div",{className:"ProfileUpdate-img-upload-container"},n.a.createElement("img",{className:"ProfileUpdate-img",src:"".concat("default"===this.state.profileImg?"/images/default_profile/default.png":this.state.profileImg),alt:"profile"}),n.a.createElement("label",{htmlFor:"profileImg",className:"label-update-image"},"Upload",n.a.createElement("input",{id:"profileImg",type:"file",title:"Upload",onChange:function(t){return e.handleImageUpload(t)},name:"profileImg"}))))))}}]),a}(s.Component)),W=(a(109),a(110),a(24)),G=a.n(W),q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).renderPost=function(){return s.state.posts.slice(3).map((function(e){return n.a.createElement(U,Object.assign({isLiked:s.props.user&&s.props.user.liked&&s.props.user.liked.includes(e._id),key:e._id,setUser:s.props.setUser,user:s.props.user,post:e,setPost:s.setPost},s.props,{isOwner:e.userId===(s.props.user&&s.props.user.userId)}))}))},s.handleComment=function(e,t){e.stopPropagation(),s.props.history.push("/posts/".concat(t))},s.renderTopPosts=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"dashboard-post-container"},s.state.posts.slice(0,3).map((function(e,t){return n.a.createElement("div",{key:t,id:t,className:"dashboard-post",onClick:function(t){return s.handleComment(t,e._id)}},n.a.createElement("div",{className:"dashboard-post-title"},e.postTitle),n.a.createElement("div",{className:"dashboard-post-body"},e.postContent.slice(0,180)+"..."),n.a.createElement("div",{className:"dashboard-post-stats-container"},n.a.createElement("div",{className:"dashboard-post-stats"},n.a.createElement("div",{className:"dashboard-stats-title"},n.a.createElement("img",{src:"/images/icons/like.svg",alt:"like"})),n.a.createElement("div",{className:"dashboard-stats-content"},e.likes)),n.a.createElement("div",{className:"dashboard-post-stats"},n.a.createElement("div",{className:"dashboard-stats-title"},n.a.createElement("img",{src:"/images/icons/comment.svg",alt:"like"})),n.a.createElement("div",{className:"dashboard-stats-content"},e.comments.length))))}))),n.a.createElement("div",{className:"Posts-container"},s.renderPost()))},s.handleCategory=function(e,t){e.stopPropagation(),s.props.history.push("/specficPostCategory/".concat(t))},s.state={user:null,posts:[],isLoading:!1},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G()(".dashboard-count").each((function(){var e=G()(this);G()({Counter:0}).animate({Counter:e.text()},{duration:1500,easing:"swing",step:function(){e.text(Math.ceil(this.Counter))}})})),this.setState({isLoading:!0}),(t=this.props.user)||(t=this.props.match&&this.props.match.params.id),!t){e.next=25;break}return e.prev=5,a=N+"users/".concat(t._id),e.next=9,y.a.get(a);case 9:return s=e.sent,this.setState({user:s.data.data.user}),a+="/posts?sort=-likes",e.next=14,y.a.get(a);case 14:s=e.sent,this.setState({posts:s.data.data.posts}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 22:return e.prev=22,this.setState({isLoading:!1}),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[5,18,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"MeSection-container"},n.a.createElement("div",{className:"Profile-image-me-container"},n.a.createElement("img",{src:(this.state.user&&this.state.user.profile_img,"/images/default_profile/default.png"),alt:"profile_img",className:"Profile-image-me"})),n.a.createElement("div",{className:"top-interests"},n.a.createElement("div",{className:"top-interests-header"},"Following Topics"),this.state.user&&this.state.user.areaOfInterest.filter((function(e){return e})).map((function(t){return n.a.createElement("div",{className:"top-interests-follow",key:t,onClick:function(a){return e.handleCategory(a,t)}},t)}))),n.a.createElement("div",{className:"Profile-username-me"},this.state.user&&this.state.user.username),n.a.createElement("div",{className:"Profile-username-dashboard-stats-container"},n.a.createElement("div",{className:"dashboard-stats"},n.a.createElement("div",{className:"dashboard-title"},"Likes"),n.a.createElement("div",{className:"dashboard-count"},"100")),n.a.createElement("div",{className:"dashboard-stats"},n.a.createElement("div",{className:"dashboard-title"},"Comments"),n.a.createElement("div",{className:"dashboard-count"},"80")),n.a.createElement("div",{className:"dashboard-stats"},n.a.createElement("div",{className:"dashboard-title"},"Posts"),n.a.createElement("div",{className:"dashboard-count"},"70"))),n.a.createElement("div",{className:"dashboard-top-posts-container"},n.a.createElement("div",{className:"dashboard-top-posts-header"},"Top Posts"))),this.renderTopPosts()))}}]),a}(s.Component),Y=(a(111),a(112),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleImageUpload=function(){var e=Object(k.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("profileImage",t.target.files[0],t.target.files[0].name),s.setState({isLoading:!0}),N+"users/profileUpload",n=S.getAuthHeader(),n=Object(l.a)({},n,{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}),e.prev=6,e.next=9,y.a.post("http://localhost:8000/api/v1/users/profileUpload",a,{headers:n});case 9:r=e.sent,s.props.setUser(r.data.data.user),s.setState({profile_img:r.data.data.user.profile_img}),i.a.info("Image upload successfully!"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 19:return e.prev=19,s.setState({isLoading:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,15,19,22]])})));return function(t){return e.apply(this,arguments)}}(),s.handleChange=function(e){s.setState(Object(v.a)({},e.target.name,e.target.value))},s.handleClick=Object(k.a)(b.a.mark((function e(){var t,a,n,r,o,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.state,a=t.username,n=t.dob,r=t.profile_img,!(a&&n&&r)){e.next=23;break}return e.prev=2,s.setState({isLoading:!0}),o=N+"users/".concat(S.getId()),c={username:a,dob:n,profile_img:r},l=S.getAuthHeader(),e.next=9,y.a.patch(o,c,{headers:l});case 9:u=e.sent,s.props.setUser(u.data.data.user),i.a.info("User updated successfully!"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 18:return e.prev=18,s.setState({isLoading:!1}),e.finish(18);case 21:e.next=25;break;case 23:i.a.error("Enter all fields"),s.setState({isLoading:!1});case 25:case"end":return e.stop()}}),e,null,[[2,14,18,21]])}))),s.state={username:s.props.user&&s.props.user.username?s.props.user.username:"N/A",email:s.props.user&&s.props.user.email?s.props.user.email:"N/A",dob:s.props.user&&s.props.user.dob?s.props.user.dob:"N/A",profile_img:s.props.user&&s.props.user.profile_img?(s.props.user.profile_img,"/images/default_profile/default.png"):"/images/default_profile/default.png",isLoading:!1,error:null},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(M,this.state.error):"",this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"General-container"},n.a.createElement("div",{className:"ProfileUpdate-img-upload-container"},n.a.createElement("img",{className:"ProfileUpdate-img",src:this.state.profile_img,alt:"profile"}),n.a.createElement("label",{htmlFor:"profileImg",className:"label-update-image"},"Upload",n.a.createElement("input",{id:"profileImg",type:"file",title:"Upload",onChange:function(t){return e.handleImageUpload(t)},name:"profileImg"}))),n.a.createElement("div",{className:"profile-input"},n.a.createElement("div",{className:"profile-input-container"},n.a.createElement("label",null,"Username "),n.a.createElement("input",{type:"text",value:this.state.username,name:"username",onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"profile-input-container"},n.a.createElement("label",null,"Email "),n.a.createElement("input",{type:"email",value:this.state.email,name:"email",readOnly:!0,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"profile-input-container"},n.a.createElement("label",null,"Age "),n.a.createElement("input",{min:14,type:"number",value:this.state.dob,name:"dob",max:120,onChange:function(t){return e.handleChange(t)}})))),n.a.createElement("div",{className:"btn-update-container"},n.a.createElement("div",{className:"SignUp-form-button"},n.a.createElement("input",{type:"button",value:"Update",onClick:this.handleClick}))))}}]),a}(s.Component)),$=(a(113),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).interestClicked=function(e){if(s.state.selected[e])s.setState({selected:s.state.selected.map((function(t,a){return a===e?"":t}))});else{var t=s.state.selected;t[e]=O[e],s.setState({selected:t})}},s.handleClick=Object(k.a)(b.a.mark((function e(){var t,a,n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.state.selected,!(s.state.selected&&s.state.selected.filter((function(e){return e})).length>3)){e.next=23;break}return s.setState({isLoading:!0}),a=N+"users/".concat(S.getId()),n={areaOfInterest:t},r=S.getAuthHeader(),e.prev=6,e.next=9,y.a.patch(a,n,{headers:r});case 9:o=e.sent,s.props.setUser(o.data.data.user),i.a.info("Updated interests"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 18:return e.prev=18,s.setState({isLoading:!1}),e.finish(18);case 21:e.next=25;break;case 23:i.a.error("Selected interests should be greater than 3"),s.setState({isLoading:!1});case 25:case"end":return e.stop()}}),e,null,[[6,14,18,21]])}))),s.state={isLoading:!1,error:null,selected:s.props.user&&s.props.user.areaOfInterest?s.props.user.areaOfInterest:["","","","","","","","","","","","","",""]},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(M,this.state.error):"",this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"Preference-container"},n.a.createElement("div",{className:"Interest-select-item-heading-container"},n.a.createElement("div",{className:"Interest-select-item-heading"},"Update your interests"),this.state.selected.filter((function(e){return e})).length>3?"":n.a.createElement("div",{className:"Interest-select-item-sub-heading"},"You should atleast select 3")),n.a.createElement("div",{className:"Interest-select-item-container"},O.map((function(t,a){return n.a.createElement("div",{key:t,className:"Interest-select-item ".concat(e.state.selected[a]?"Interest-select-item-selected":""),onClick:function(){return e.interestClicked(a)}},n.a.createElement("img",{className:"Interest-select-item-img",src:"/images/interest/".concat(t,".png"),alt:t}),n.a.createElement("p",null,t))}))),n.a.createElement("div",{className:"btn-update-container"},n.a.createElement("div",{className:"SignUp-form-button"},n.a.createElement("input",{type:"button",value:"Update",onClick:this.handleClick})))))}}]),a}(s.Component)),z=(a(114),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).renderButtonText=function(){switch(s.state.count){case 0:return"Send";case 1:return"Resend";default:return"Please wait"}},s.handleClick=Object(k.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({count:s.state.count+1,isLoading:!0}),N+"users/forgotPassword",t={email:s.props.user&&s.props.user.email},e.prev=3,e.next=6,y.a.post("http://localhost:8000/api/v1/users/forgotPassword",t);case 6:i.a.info("Succesfully email sent!"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 13:return e.prev=13,s.setState({isLoading:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,9,13,16]])}))),s.state={count:0,isLoading:!1,error:null},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this.renderButtonText();return n.a.createElement(n.a.Fragment,null,this.state.error?n.a.createElement(M,this.state.error):"",this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"Change-password"},n.a.createElement("div",{className:"Change-password-container"},"To change your password please click on the button below. A email will be sent to you with the link to the registerd email in our platform where you can change your password accordingly. Please don't share the link with other"),n.a.createElement("div",{className:"btn-update-container"},n.a.createElement("div",{className:"SignUp-form-button"},n.a.createElement("input",{type:"button",value:e,onClick:this.handleClick,disabled:this.state.count>1})))))}}]),a}(s.Component)),X=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).tabChange=function(e){s.setState({activeTab:e.target.id})},s.renderTabs=function(){switch(s.state.activeTab){case"General":return n.a.createElement(Y,{user:s.props.user,setUser:s.props.setUser});case"Preference":return n.a.createElement($,{user:s.props.user,setUser:s.props.setUser});case"Change Password":return n.a.createElement(z,{user:s.props.user});default:return n.a.createElement(T,null)}},s.state={activeTab:"General"},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.getElementById(this.state.activeTab).classList.add("edit-profile-tab-active")}},{key:"componentDidUpdate",value:function(e,t){t.activeTab!==this.state.activeTab&&(document.getElementById(t.activeTab).classList.remove("edit-profile-tab-active"),document.getElementById(this.state.activeTab).classList.add("edit-profile-tab-active"))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"edit-profile-tabbar"},n.a.createElement("div",{className:"edit-profile-tab",id:"General",onClick:function(t){return e.tabChange(t)}},"General"),n.a.createElement("div",{className:"edit-profile-tab",id:"Preference",onClick:function(t){return e.tabChange(t)}},"Preference"),n.a.createElement("div",{className:"edit-profile-tab",id:"Change Password",onClick:function(t){return e.tabChange(t)}},"Change Password")),n.a.createElement("div",{className:"tab"},this.renderTabs()))}}]),a}(s.Component),K=(a(115),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).showUserProfile=function(e,t){e.stopPropagation(),s.props.history.push("/user/".concat(t))},s.removeFriend=function(){var e=Object(k.a)(b.a.mark((function e(t,a){var n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),s.setState({isLoading:!0}),n=S.getAuthHeader(),r=N+"users/friends/".concat(a),e.prev=4,e.next=7,y.a.delete(r,{headers:n});case 7:o=e.sent,s.setState({friends:o.data.data.user.friends}),s.props.setUser(o.data.data.user),i.a.info("Removed friend!"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 17:return e.prev=17,s.setState({isLoading:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,13,17,20]])})));return function(t,a){return e.apply(this,arguments)}}(),s.renderFriends=function(){return s.state.friends.map((function(e){return n.a.createElement("div",{key:e&&e._id,className:"friend-single",onClick:function(t){return s.showUserProfile(t,e._id)}},n.a.createElement("div",{className:"friend-image"},n.a.createElement("img",{src:(e&&e.profile_img,"/images/default_profile/default.png"),alt:"profile"})),n.a.createElement("div",{className:"friend-username"},e&&e.username),n.a.createElement("div",{className:"friend-footer"},n.a.createElement("button",{onClick:function(t){return s.removeFriend(t,e._id)}},"remove")))}))},s.state={friends:[],isLoading:!1},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N+"users/friends",t=S.getAuthHeader(),e.prev=2,e.next=5,y.a.get("http://localhost:8000/api/v1/users/friends",{headers:t});case 5:a=e.sent,this.setState({friends:a.data.data.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"page"},this.state.friends.length?n.a.createElement("div",{className:"friends-container"},this.renderFriends()):n.a.createElement("div",{className:"empty-friends"},"No Friends Added ")))}}]),a}(s.Component)),Q=(a(116),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).setPost=function(e){s.setState({posts:s.state.posts.map((function(t){return t._id===e._id?e:t}))})},s.renderPost=function(){return s.state.posts.map((function(e){return n.a.createElement(U,Object.assign({isLiked:s.props.user&&s.props.user.liked.includes(e._id),key:e._id,setUser:s.props.setUser,user:s.props.user,post:e,setPost:s.setPost},s.props))}))},s.state={posts:[]},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=N+"users/posts?userId=".concat(this.props.user._id),e.next=4,y.a.get(t);case 4:a=e.sent,this.setState({posts:a.data.data.posts}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"page"},this.state.posts.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"category-title"},"User's Post"),n.a.createElement("div",{className:"Posts-container"},this.renderPost())):n.a.createElement("div",{className:"empty-friends"},"No Posts Made "))}}]),a}(s.Component)),V=(a(117),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).setPost=function(e){s.setState({posts:s.state.posts.map((function(t){return t._id===e._id?e:t}))})},s.renderPost=function(){return s.state.posts&&s.state.posts.map((function(e){return n.a.createElement(U,Object.assign({isLiked:s.props.user&&s.props.user.liked.includes(e._id),key:e._id,setUser:s.props.setUser,user:s.props.user,post:e,setPost:s.setPost},s.props))}))},s.state={posts:[]},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N+"users/getLikedPost",t=S.getAuthHeader(),e.prev=2,e.next=5,y.a.get("http://localhost:8000/api/v1/users/getLikedPost",{headers:t});case 5:a=e.sent,this.setState({posts:a.data.data.post}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"page"},this.state.posts.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"category-title"},"Liked Post"),n.a.createElement("div",{className:"Posts-container"},this.renderPost())):n.a.createElement("div",{className:"empty-friends"},"No Posts Liked "))}}]),a}(s.Component)),Z=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).setSelectedSection=function(e){s.setState({sectionSelected:e.target.id})},s.renderSection=function(){switch(s.state.sectionSelected){case"Me":return n.a.createElement(q,Object.assign({user:s.props.user&&s.props.user._id},s.props));case"Edit Profile":return n.a.createElement(X,{user:s.props.user,setUser:s.props.setUser});case"Friends":return n.a.createElement(K,Object.assign({user:s.props.user,setUser:s.props.setUser},s.props));case"Posts":return n.a.createElement(Q,Object.assign({user:s.props.user},s.props));case"Saved":return n.a.createElement(V,Object.assign({user:s.props.user},s.props));default:return n.a.createElement(T,null)}},s.state={sectionSelected:"Me"},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.getElementById(this.state.sectionSelected).classList.add("Me-side-bar-sub-section-active")}},{key:"componentDidUpdate",value:function(e,t){t.sectionSelected!==this.state.sectionSelected&&(document.getElementById(t.sectionSelected).classList.remove("Me-side-bar-sub-section-active"),document.getElementById(this.state.sectionSelected).classList.add("Me-side-bar-sub-section-active"))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Me-container"},n.a.createElement("div",{className:"Me-side"},n.a.createElement("div",{className:"Me-side-content"},n.a.createElement("div",{className:"Me-side-bar-section"},n.a.createElement("div",{className:"Me-side-bar-section-title"}," User Settings "),n.a.createElement("div",{className:"Me-side-bar-sub-section"},n.a.createElement("div",{id:"Me",onClick:function(t){return e.setSelectedSection(t)}},"Me"),n.a.createElement("div",{id:"Edit Profile",onClick:function(t){return e.setSelectedSection(t)}},"Edit Profile"))),n.a.createElement("div",{className:"Me-side-bar-section"},n.a.createElement("div",{className:"Me-side-bar-section-title"}," Connected"),n.a.createElement("div",{className:"Me-side-bar-sub-section"},n.a.createElement("div",{id:"Friends",onClick:function(t){return e.setSelectedSection(t)}},"Friends"),n.a.createElement("div",{id:"Posts",onClick:function(t){return e.setSelectedSection(t)}},"Posts"),n.a.createElement("div",{id:"Saved",onClick:function(t){return e.setSelectedSection(t)}},"Liked"))))),n.a.createElement("div",{className:"Me-main"},this.renderSection()))}}]),a}(s.Component),ee=(a(118),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).setPost=function(e){s.setState({posts:s.state.posts.map((function(t){return t._id===e._id?e:t}))})},s.renderPost=function(){return s.state.posts.map((function(e){return n.a.createElement(U,Object.assign({isLiked:s.props.user&&s.props.user.liked.includes(e._id),key:e._id,setUser:s.props.setUser,user:s.props.user,post:e,setPost:s.setPost},s.props))}))},s.state={posts:[],isLoading:!1},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),t=this.props.match&&this.props.match.params.category,a=N+"users/posts?category=".concat(t),e.prev=3,e.next=6,y.a.get(a);case 6:s=e.sent,this.setState({posts:s.data.data.posts}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 14:return e.prev=14,this.setState({isLoading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"category-title"},this.props.match&&this.props.match.params.category),n.a.createElement("div",{className:"Posts-container"},this.renderPost())))}}]),a}(s.Component)),te=(a(119),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(v.a)({},e.target.name,e.target.value))},s.handleComment=Object(k.a)(b.a.mark((function e(){var t,a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.props.user){e.next=16;break}return t=N+"users/".concat(s.props.user._id,"/posts/").concat(s.state.post._id,"/comments"),a=S.getAuthHeader(),n={username:s.props.user.username,commentText:s.state.commentText,postId:s.state.post._id,userId:s.props.user._id},e.prev=4,e.next=7,y.a.post(t,n,{headers:a});case 7:r=e.sent,s.setState({post:r.data.data.data,commentText:""}),i.a.info("Comment added!"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),s.handleEditComment=Object(k.a)(b.a.mark((function e(){var t,a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.props.user){e.next=15;break}return t=N+"users/".concat(s.props.user._id,"/posts/").concat(s.state.post._id,"/comments/").concat(s.state.editcommentId),a=S.getAuthHeader(),n={username:s.props.user.username,commentText:s.state.editText,postId:s.state.post._id,userId:s.props.user._id},e.prev=4,e.next=7,y.a.patch(t,n,{headers:a});case 7:r=e.sent,s.setState({post:r.data.data.data,editText:"",editcommentId:null,isEdit:!1}),i.a.info("Comment edited!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[4,12]])}))),s.handleEdit=function(e,t,a){s.setState({isEdit:!0,editText:a,editcommentId:t})},s.handleLike=function(){var e=Object(k.a)(b.a.mark((function e(t){var a,n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.props.user||s.props.user.liked.includes(s.state.post._id)){e.next=17;break}return t.target.src=t.target.src.replace(/\/[^\/]*$/,"/like.svg"),a=N+"users/".concat(s.props.user._id,"/posts/").concat(s.state.post._id),n=S.getAuthHeader(),r=s.state.post.likes+1,e.prev=5,e.next=8,y.a.patch(a,r,{headers:n});case 8:o=e.sent,s.props.setUser(o.data.data.user),i.a.info("Post liked!"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),s.handleDelete=Object(k.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.props.user){e.next=15;break}return t=N+"users/".concat(s.props.user._id,"/posts/").concat(s.state.post._id,"/comments/").concat(s.state.editcommentId),a=S.getAuthHeader(),e.prev=3,e.next=6,y.a.delete(t,{headers:a});case 6:n=e.sent,s.setState({post:n.data.data.data,editText:"",editcommentId:null,isEdit:!1}),i.a.info("Comment deleted!"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),s.renderComments=function(){return n.a.createElement("div",{className:"comments"},s.state.post&&s.state.post.comments.map((function(e){return n.a.createElement("div",{key:e._id,className:"commet"},s.state.editcommentId===e._id?n.a.createElement("div",{className:"Add-comment-container"},n.a.createElement("input",{className:"ShowPost-add-comment",placeholder:"Add a comment",type:"text",name:"editText",value:s.state.editText,onChange:function(e){return s.handleChange(e)}}),n.a.createElement("div",{className:"comment-stat",onClick:s.handleEditComment},n.a.createElement("img",{src:"/images/icons/edit.svg",alt:"edit"})),n.a.createElement("div",{className:"comment-stat",onClick:s.handleDelete},n.a.createElement("img",{src:"/images/icons/delete.svg",alt:"delete"}))):n.a.createElement("div",{className:"commet-text"},n.a.createElement("span",{className:"comment-stat",onClick:s.handleUserClicked},e.username),e.commentText,s.props.user&&s.props.user.username===e.username?n.a.createElement("span",{className:"edit-comment",onClick:function(t){return s.handleEdit(t,e._id,e.commentText)}},n.a.createElement("img",{src:"/images/icons/edit.svg",alt:"edit"})):""),n.a.createElement("div",{className:"comment-footer"},n.a.createElement("div",{className:"comment-date"},P()(e.createDate).format("Do MMM"))))})))},s.handleCategory=function(e){e.stopPropagation(),s.props.history.push("/specficPostCategory/".concat(s.state.post.category))},s.handleUserClicked=function(e){e.stopPropagation(),s.props.user&&s.props.user._id===s.state.post.userId?s.props.history.push("/me"):s.props.history.push("/user/".concat(s.state.post.userId))},s.handleEditPost=function(){s.setState({editPost:!0,editPostContent:s.state.post.postContent})},s.handleDeletePost=Object(k.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N+"users/:".concat(s.props.user&&s.props.user._id,"/posts/").concat(s.state.post._id),a=S.getAuthHeader(),e.prev=2,e.next=5,y.a.delete(t,{headers:a});case 5:s.props.history.goBack(),s.setState({post:null,editPost:!1,editPostContent:null}),i.a.info("Post deleted!"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),s.handleUpdatePost=Object(k.a)(b.a.mark((function e(){var t,a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N+"users/:".concat(s.props.user&&s.props.user._id,"/posts/").concat(s.state.post._id),a=S.getAuthHeader(),n=Object(l.a)({},s.state.post,{postContent:s.state.editPostContent}),e.prev=3,e.next=6,y.a.patch(t,n,{headers:a});case 6:r=e.sent,s.props.history.goBack(),s.setState({post:r.data.data.data,editPost:!1,editPostContent:null}),i.a.info("Updated the post!"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),s.state={post:null,isOwner:!1,isLiked:!1,commentText:"",isEdit:!1,editText:"",editcommentId:null,editPost:null,editPostContent:null,isLoading:!1},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark((function e(){var t,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user&&this.props.user.liked.includes(this.props.match.params.postId),a=N+"users/posts/".concat(this.props.match.params.postId),this.setState({isLoading:!0}),e.prev=3,e.next=6,y.a.get(a);case 6:s=e.sent,this.setState({post:s.data.data.post,isOwner:s.data.data.post.userId===(this.props.user&&this.props.user._id),isLiked:t}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.t0.response?i.a.error(e.t0.response.data.message):i.a.error("Something went wrong!");case 14:return e.prev=14,this.setState({isLoading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.state.isLoading?n.a.createElement(x,null):"",n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"ShowPost-container"},n.a.createElement("div",{className:"Post-container"},n.a.createElement("div",{className:"Post-title"},this.state.post&&this.state.post.postTitle,this.props.user&&this.props.user._id===(this.state.post&&this.state.post.userId)?this.state.editPost?n.a.createElement("span",{className:"edit-option-available",onClick:this.handleDeletePost},n.a.createElement("img",{src:"/images/icons/delete.svg",alt:"delete"})):n.a.createElement("span",{className:"edit-option-available",onClick:this.handleEditPost},n.a.createElement("img",{src:"/images/icons/edit.svg",alt:"edit"})):""),n.a.createElement("div",{className:"Post-label"},n.a.createElement("div",{className:"Post-cat",onClick:function(t){return e.handleCategory(t)}},n.a.createElement("span",{className:"hash-tag"},"#"),this.state.post&&this.state.post.category),n.a.createElement("div",{className:"Post-user",onClick:function(t){return e.handleUserClicked(t)}},this.state.post&&this.state.post.username,n.a.createElement("span",{style:{display:"block"}},P()(this.state.post&&this.state.post.createDate).format("Do MMM")))),this.state.editPost?n.a.createElement("div",{className:"text-area-container"},n.a.createElement("textarea",{className:"post-content-container",name:"editPostContent",placeholder:"The post content goes over here",value:this.state.editPostContent,onChange:function(t){return e.handleChange(t)}}),n.a.createElement("div",{className:"btn-update-container"},n.a.createElement("div",{className:"SignUp-form-button"},n.a.createElement("input",{type:"button",value:"update",onClick:this.handleUpdatePost})))):n.a.createElement("div",{className:"Post-body"},"".concat(this.state.post&&this.state.post.postContent," ")),n.a.createElement("div",{className:"Post-footer"},n.a.createElement("div",{className:"Post-stats"},n.a.createElement("img",{onClick:function(t){return!e.props.isOwner&&e.handleLike(t)},className:"post-stat-image single-post",src:this.state.isLiked?"/images/icons/like.svg":"/images/icons/like-not.png",alt:"like"}),this.state.isOwner&&this.state.post&&this.state.post.likes)))),n.a.createElement("div",{className:"ShowPost-add-comment-container"},this.props.user&&n.a.createElement("div",{className:"Add-comment-container"},n.a.createElement("input",{className:"ShowPost-add-comment",placeholder:"Add a comment",type:"text",name:"commentText",value:this.state.commentText,onChange:function(t){return e.handleChange(t)}}),n.a.createElement("button",{className:"create-post-btn",onClick:this.handleComment},"Add")),n.a.createElement("div",{className:"comment-container"},this.renderComments()))))}}]),a}(s.Component)),ae=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).setJWTToken=function(e){s.setState({jwt:e})},s.setUser=function(e){s.setState({user:Object(l.a)({},e)})},s.handleLogout=function(){s.setState({user:null,jwt:null})},s.logout=function(){s.setState({user:null})},s.enableRecommender=function(e){s.setState({recommender:e})},s.state={user:null,jwt:null,recommender:!1},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(S.getJWT()){y.a.get("".concat("http://localhost:8000/api/v1/users/","/").concat(S.getId())).then((function(t){e.setState({user:t.data.data.user}),S.setBoarded(t.data.data.user.isBoarded)}))}}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{user:this.state.user,logout:this.handleLogout,recommender:this.state.recommender,enableRecommender:this.enableRecommender}),n.a.createElement(h.d,null,n.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return n.a.createElement(L,Object.assign({isRecommended:e.state.recommender,user:e.state.user,setUser:e.setUser},t))}}),n.a.createElement(h.b,{exact:!0,path:"/signup",render:function(t){return n.a.createElement(A,Object.assign({isSignIn:!0,setJWTToken:e.setJWTToken,setUser:e.setUser,isAuthenticated:e.isAuthenticated},t))}}),n.a.createElement(h.b,{exact:!0,path:"/login",render:function(t){return n.a.createElement(A,Object.assign({isSignIn:!1,setJWTToken:e.setJWTToken,setUser:e.setUser},t))}}),n.a.createElement(h.b,{exact:!0,path:"/logout",render:function(t){return n.a.createElement(B,Object.assign({logout:e.logout},t))}}),n.a.createElement(h.b,{exact:!0,path:"/selectInterst",user:this.state.user,component:R}),n.a.createElement(h.b,{exact:!0,path:"/profileUpdate",render:function(t){return n.a.createElement(J,Object.assign({setUser:e.setUser},t))}}),n.a.createElement(h.b,{exact:!0,path:"/me",render:function(t){return n.a.createElement(Z,Object.assign({user:e.state.user},t,{setUser:e.setUser}))}}),n.a.createElement(h.b,{exact:!0,path:"/user/:id",render:function(e){return n.a.createElement(q,e)}}),n.a.createElement(h.b,{exact:!0,path:"/specficPostCategory/:category",render:function(t){return n.a.createElement(ee,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),n.a.createElement(h.b,{exact:!0,path:"/posts/:postId",render:function(t){return n.a.createElement(te,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),n.a.createElement(h.b,{path:"*"},n.a.createElement(T,null))),n.a.createElement(_,null))}}]),a}(s.Component),se=Object(h.g)(ae);i.a.configure({draggable:!0,autoClose:3e3}),o.a.render(n.a.createElement(c.a,null,n.a.createElement(se,null)),document.getElementById("root"))},50:function(e,t,a){e.exports=a(120)},55:function(e,t,a){},57:function(e,t,a){},64:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.645a2b2c.chunk.js.map